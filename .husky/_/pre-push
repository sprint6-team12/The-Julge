; #!/usr/bin/env sh
; . "$(dirname -- "$0")/husky.sh"

; echo "🔍 푸시 이전에 타입 검사 및 린트 규칙을 적용합니다..."

; # 타입 검사 실행
; npm run type-check
; if [ $? -ne 0 ]; then
; echo "❌ 타입 검사 오류가 발생했습니다. 오류를 수정한 후 다시 시도하세요."
; exit 1
; fi

; # 전체 파일을 대상으로 린트 검사 실행
; npm run lint:full-inspection
; if [ $? -ne 0 ]; then
; echo "❌ 린트 검사 오류가 발생했습니다. 오류를 수정한 후 다시 시도하세요."
; exit 1
; fi

; echo "✅ 모든 타입 및 린트 검사가 성공적으로 완료되었습니다."

; # 타입 검사의 경우 모듈 의존성 때문에 모든 파일을 대상으로 진행되어야 합니다. 때문에 lint-staged 으로 타입 검사 시 스테이징에 올라온 파일만 검사하다 에러가 발생하므로 push 이전에 확인하도록 합니다.
; # next에서 검사하는 lint도 pages 디렉터리가 있냐 없냐와 같은 전체 파일을 대상으로 검사하기 때문에 lint-staged 으로 검사가 어려워 push 이전에 확인하도록 합니다.